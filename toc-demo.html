<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ä¼˜åŒ–åçš„æ–‡ç« ç›®å½•ç»„ä»¶æ¼”ç¤º</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Hiragino Sans GB',
          'Microsoft YaHei', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .demo-container {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        gap: 30px;
        align-items: flex-start;
      }

      .main-content {
        flex: 1;
        background: white;
        border-radius: 16px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .sidebar {
        width: 320px;
        flex-shrink: 0;
      }

      .demo-title {
        font-size: 2rem;
        color: #2c3e50;
        margin-bottom: 20px;
        text-align: center;
      }

      .demo-content {
        line-height: 1.8;
        color: #2c3e50;
      }

      .demo-content h1 {
        font-size: 1.8rem;
        color: #2c3e50;
        margin: 20px 0 15px 0;
        padding-bottom: 10px;
        border-bottom: 2px solid #667eea;
      }

      .demo-content h2 {
        font-size: 1.5rem;
        color: #34495e;
        margin: 18px 0 12px 0;
        padding-bottom: 8px;
        border-bottom: 1px solid #bdc3c7;
      }

      .demo-content h3 {
        font-size: 1.3rem;
        color: #2c3e50;
        margin: 15px 0 10px 0;
      }

      .demo-content p {
        margin: 10px 0;
        font-size: 1rem;
      }

      /* ç›®å½•å®¹å™¨æ ·å¼ */
      .toc-container {
        width: 100%;
        z-index: 100;
      }

      .toc-card {
        max-height: calc(100vh - 40px);
        min-height: 380px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(102, 126, 234, 0.12);
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: sticky;
        top: 20px;
        min-width: 300px;
      }

      .toc-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 16px 48px rgba(102, 126, 234, 0.2);
      }

      .toc-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        min-height: 56px;
        padding: 20px 24px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-bottom: none;
        border-radius: 16px 16px 0 0;
        margin: 0;
        position: relative;
        overflow: hidden;
      }

      /* æ·»åŠ èƒŒæ™¯è£…é¥°å…ƒç´  */
      .toc-header::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
        animation: rotate 20s linear infinite;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .toc-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 12px;
        position: relative;
        z-index: 1;
      }

      .toc-title-main {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 1.1rem;
        font-weight: 600;
        color: white;
      }

      .toc-icon {
        font-size: 1.2rem;
        color: white;
        animation: iconFloat 2s ease-in-out infinite;
      }

      @keyframes iconFloat {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-2px) rotate(5deg);
        }
      }

      .category-badge {
        margin-left: 12px;
      }

      .category-tag {
        background: rgba(255, 255, 255, 0.2) !important;
        border: 1px solid rgba(255, 255, 255, 0.3) !important;
        color: white !important;
        font-weight: 600;
        border-radius: 12px !important;
        padding: 4px 12px !important;
        font-size: 0.8rem !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
        text-decoration: none;
        display: inline-block;
      }

      .category-tag:hover {
        background: rgba(255, 255, 255, 0.3) !important;
        border-color: rgba(255, 255, 255, 0.5) !important;
        transform: translateY(-1px) scale(1.05);
        box-shadow: 0 4px 16px rgba(255, 255, 255, 0.2);
      }

      .toc-actions {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 12px;
      }

      .toc-actions .btn {
        border-radius: 10px;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 6px 12px;
        font-size: 0.8rem;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
      }

      .toc-actions .btn:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 4px 16px rgba(255, 255, 255, 0.3);
        background: rgba(255, 255, 255, 0.3);
      }

      .toc-content {
        overflow-y: auto;
        overflow-x: hidden;
        max-height: calc(100vh - 200px);
        scroll-behavior: smooth;
        padding: 0 4px;
      }

      .toc-content::-webkit-scrollbar {
        width: 8px;
      }

      .toc-content::-webkit-scrollbar-track {
        background: rgba(102, 126, 234, 0.1);
        border-radius: 4px;
        margin: 4px 0;
      }

      .toc-content::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 4px;
        transition: all 0.3s ease;
      }

      .toc-content::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
      }

      /* é˜…è¯»è¿›åº¦æŒ‡ç¤ºå™¨ */
      .reading-progress-indicator {
        margin-bottom: 20px;
        padding: 16px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 12px;
        border: 1px solid rgba(102, 126, 234, 0.1);
        box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
      }

      .progress-info {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;
      }

      .progress-icon {
        font-size: 1rem;
        color: #667eea;
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }

      .progress-label {
        font-size: 0.85rem;
        color: #555;
        font-weight: 500;
      }

      .progress-bar-mini {
        height: 8px;
        background: rgba(102, 126, 234, 0.1);
        border-radius: 4px;
        overflow: hidden;
        margin: 12px 0 8px 0;
        position: relative;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        border-radius: 4px;
        transition: width 0.3s ease;
        position: relative;
        overflow: hidden;
        width: 65%;
      }

      .progress-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        animation: shimmer 2s infinite;
      }

      @keyframes shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      .progress-text-mini {
        font-size: 0.8rem;
        color: #667eea;
        font-weight: 600;
        text-align: center;
        display: block;
      }

      /* ç°ä»£åŒ–ç›®å½•æ ·å¼ */
      .markdown-toc-content {
        padding: 0;
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Hiragino Sans GB',
          'Microsoft YaHei', sans-serif;
        background: #ffffff;
        border-radius: 0 0 12px 12px;
        overflow: hidden;
      }

      .markdown-toc-content .table-of-contents {
        margin: 0;
        padding: 0;
      }

      .markdown-toc-content ul {
        list-style: none;
        margin: 0;
        padding: 0;
        position: relative;
      }

      .markdown-toc-content li {
        margin: 0;
        padding: 0;
        position: relative;
      }

      /* ç›®å½•é“¾æ¥åŸºç¡€æ ·å¼ */
      .markdown-toc-content .toc-link {
        display: flex;
        align-items: center;
        padding: 12px 20px;
        color: #374151;
        text-decoration: none;
        border-radius: 8px;
        margin: 4px 8px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-size: 14px;
        line-height: 1.6;
        position: relative;
        overflow: hidden;
        font-weight: 400;
        border: none;
        background: transparent;
        min-height: 44px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }

      /* å·¦ä¾§è£…é¥°çº¿ */
      .markdown-toc-content .toc-link::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transform: scaleY(0);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border-radius: 0 2px 2px 0;
      }

      /* å³ä¾§ç®­å¤´æŒ‡ç¤ºå™¨ */
      .markdown-toc-content .toc-link::after {
        content: 'â†’';
        position: absolute;
        right: 16px;
        top: 50%;
        transform: translateY(-50%);
        color: #d1d5db;
        font-size: 12px;
        font-weight: 300;
        opacity: 0;
        transition: all 0.3s ease;
      }

      /* Hover çŠ¶æ€ */
      .markdown-toc-content .toc-link:hover {
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.08) 0%,
          rgba(118, 75, 162, 0.08) 100%
        );
        color: #667eea;
        transform: translateX(8px);
        box-shadow: 0 4px 16px rgba(102, 126, 234, 0.15);
        font-weight: 500;
      }

      .markdown-toc-content .toc-link:hover::before {
        transform: scaleY(1);
      }

      .markdown-toc-content .toc-link:hover::after {
        opacity: 1;
        color: #667eea;
        transform: translateY(-50%) translateX(4px);
      }

      /* Active çŠ¶æ€ */
      .markdown-toc-content .toc-link.active {
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.12) 0%,
          rgba(118, 75, 162, 0.12) 100%
        );
        color: #667eea;
        font-weight: 600;
        box-shadow: 0 2px 12px rgba(102, 126, 234, 0.2);
        border-left: 4px solid #667eea;
      }

      .markdown-toc-content .toc-link.active::before {
        transform: scaleY(1);
        background: #667eea;
      }

      .markdown-toc-content .toc-link.active::after {
        opacity: 1;
        color: #667eea;
      }

      /* å±‚çº§ç¼©è¿›å’Œè¿æ¥çº¿ */
      .markdown-toc-content ul ul {
        padding-left: 0;
        position: relative;
        margin: 0;
      }

      /* å­çº§è¿æ¥çº¿ */
      .markdown-toc-content ul ul::before {
        content: '';
        position: absolute;
        left: 20px;
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(180deg, #e5e7eb 0%, #d1d5db 50%, #e5e7eb 100%);
        border-radius: 1px;
        opacity: 0.6;
      }

      /* å­çº§é¡¹ç›®è¿æ¥ç‚¹ */
      .markdown-toc-content ul ul li::before {
        content: '';
        position: absolute;
        left: 18px;
        top: 50%;
        width: 6px;
        height: 6px;
        background: #d1d5db;
        border-radius: 50%;
        transform: translateY(-50%);
        transition: all 0.3s ease;
        z-index: 1;
      }

      .markdown-toc-content ul ul li:hover::before {
        background: #667eea;
        transform: translateY(-50%) scale(1.2);
        box-shadow: 0 0 8px rgba(102, 126, 234, 0.4);
      }

      /* ä¸åŒçº§åˆ«çš„æ ·å¼ */
      .markdown-toc-content > ul > li > .toc-link {
        font-size: 15px;
        font-weight: 600;
        padding: 14px 24px;
        color: #1f2937;
        border-bottom: 1px solid #f3f4f6;
        background: rgba(102, 126, 234, 0.02);
      }

      .markdown-toc-content ul ul > li > .toc-link {
        font-size: 14px;
        font-weight: 500;
        padding: 12px 24px 12px 48px;
        color: #374151;
      }

      .markdown-toc-content ul ul ul > li > .toc-link {
        font-size: 13px;
        font-weight: 400;
        padding: 10px 24px 10px 72px;
        color: #6b7280;
      }

      .markdown-toc-content ul ul ul ul > li > .toc-link {
        font-size: 12px;
        padding: 8px 24px 8px 96px;
        color: #9ca3af;
      }

      /* åŠ¨ç”»æ•ˆæœ */
      .markdown-toc-content li {
        animation: fadeInUp 0.3s ease-out;
        animation-fill-mode: both;
      }

      .markdown-toc-content li:nth-child(1) {
        animation-delay: 0.1s;
      }
      .markdown-toc-content li:nth-child(2) {
        animation-delay: 0.15s;
      }
      .markdown-toc-content li:nth-child(3) {
        animation-delay: 0.2s;
      }
      .markdown-toc-content li:nth-child(4) {
        animation-delay: 0.25s;
      }
      .markdown-toc-content li:nth-child(5) {
        animation-delay: 0.3s;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ç›®å½•åº•éƒ¨ä¿¡æ¯ */
      .toc-footer {
        padding: 16px;
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(240, 147, 251, 0.05));
        border-top: 1px solid rgba(102, 126, 234, 0.1);
        border-radius: 0 0 12px 12px;
      }

      .toc-stats {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
      }

      .toc-count {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.85rem;
        color: #667eea;
        font-weight: 500;
      }

      .toc-count .icon {
        font-size: 0.9rem;
      }

      /* å“åº”å¼è®¾è®¡ */
      @media (max-width: 1200px) {
        .demo-container {
          flex-direction: column;
          gap: 20px;
        }

        .sidebar {
          width: 100%;
        }

        .toc-card {
          position: static;
        }
      }

      @media (max-width: 768px) {
        .demo-container {
          padding: 10px;
        }

        .main-content {
          padding: 20px;
        }

        .toc-header {
          padding: 16px 20px;
        }

        .toc-title-main {
          font-size: 1rem;
        }

        .category-badge {
          margin-left: 8px;
        }

        .category-tag {
          font-size: 0.75rem !important;
          padding: 2px 8px !important;
        }

        .toc-actions {
          margin-top: 8px;
        }

        .toc-actions .btn {
          font-size: 0.8rem;
          padding: 6px 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <!-- ä¸»å†…å®¹åŒºåŸŸ -->
      <div class="main-content">
        <h1 class="demo-title">Vue2 WebSocket æ’ä»¶å°è£…æ–¹æ¡ˆä½¿ç”¨è¯´æ˜æ–‡æ¡£</h1>

        <div class="demo-content">
          <h1>ä¸€ã€ç®€ä»‹</h1>
          <p>
            æœ¬æ–‡æ¡£ä»‹ç»äº†Vue2é¡¹ç›®ä¸­WebSocketæ’ä»¶çš„å°è£…æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ ¸å¿ƒåŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•ã€é…ç½®é€‰é¡¹ç­‰è¯¦ç»†å†…å®¹ã€‚
          </p>

          <h2>1.1 èƒŒæ™¯ä»‹ç»</h2>
          <p>
            åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼Œå®æ—¶é€šä¿¡å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚WebSocketä½œä¸ºä¸€ç§å…¨åŒå·¥é€šä¿¡åè®®ï¼Œèƒ½å¤Ÿæä¾›ä½å»¶è¿Ÿã€é«˜æ•ˆç‡çš„å®æ—¶æ•°æ®ä¼ è¾“ã€‚
          </p>

          <h2>1.2 æŠ€æœ¯é€‰å‹</h2>
          <p>
            æˆ‘ä»¬é€‰æ‹©äº†åŸç”ŸWebSocket
            APIä½œä¸ºåº•å±‚å®ç°ï¼Œç»“åˆVue2çš„å“åº”å¼ç³»ç»Ÿï¼Œæ„å»ºäº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ˜“äºä½¿ç”¨çš„æ’ä»¶ã€‚
          </p>

          <h1>äºŒã€æ ¸å¿ƒåŠŸèƒ½</h1>
          <p>è¯¥WebSocketæ’ä»¶æä¾›äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>

          <h2>2.1 è‡ªåŠ¨é‡è¿æœºåˆ¶</h2>
          <p>æ’ä»¶å†…ç½®æ™ºèƒ½é‡è¿æœºåˆ¶ï¼Œå½“è¿æ¥æ–­å¼€æ—¶èƒ½å¤Ÿè‡ªåŠ¨å°è¯•é‡æ–°è¿æ¥ï¼Œå¹¶æ”¯æŒæŒ‡æ•°é€€é¿ç®—æ³•ã€‚</p>

          <h2>2.2 å¿ƒè·³æ£€æµ‹</h2>
          <p>é€šè¿‡å®šæ—¶å‘é€å¿ƒè·³åŒ…æ¥æ£€æµ‹è¿æ¥çŠ¶æ€ï¼Œç¡®ä¿è¿æ¥çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</p>

          <h2>2.3 æ¶ˆæ¯é˜Ÿåˆ—</h2>
          <p>åœ¨è¿æ¥æ–­å¼€æœŸé—´ï¼Œæ¶ˆæ¯ä¼šè¢«ç¼“å­˜åˆ°é˜Ÿåˆ—ä¸­ï¼Œé‡è¿æˆåŠŸåè‡ªåŠ¨å‘é€ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¸¢å¤±ã€‚</p>

          <h2>2.4 äº‹ä»¶ç³»ç»Ÿ</h2>
          <p>æä¾›å®Œæ•´çš„äº‹ä»¶ç³»ç»Ÿï¼Œæ”¯æŒè¿æ¥ã€æ–­å¼€ã€æ¶ˆæ¯æ¥æ”¶ç­‰äº‹ä»¶çš„ç›‘å¬å’Œå¤„ç†ã€‚</p>

          <h1>ä¸‰ã€å¿«é€Ÿå…¥é—¨</h1>
          <p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥äº†è§£å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼š</p>

          <h2>3.1 ä»£ç åç§°åŠå»ºè®®ç›®å½•</h2>
          <p>
            å»ºè®®å°†æ’ä»¶æ–‡ä»¶å‘½åä¸º <code>websocket.js</code> æˆ–
            <code>websocket-plugin.js</code>ï¼Œæ”¾ç½®åœ¨é¡¹ç›®çš„ <code>src/plugins/</code> ç›®å½•ä¸‹ã€‚
          </p>

          <h2>3.2 åŸºæœ¬é…ç½®</h2>
          <p>åœ¨Vueé¡¹ç›®ä¸­å¼•å…¥æ’ä»¶å¹¶è¿›è¡ŒåŸºæœ¬é…ç½®ï¼š</p>

          <h3>3.2.1 å®‰è£…ä¾èµ–</h3>
          <p>è¯¥æ’ä»¶æ— éœ€é¢å¤–å®‰è£…ä¾èµ–ï¼Œä½¿ç”¨åŸç”ŸWebSocket APIå®ç°ã€‚</p>

          <h3>3.2.2 å¼•å…¥æ’ä»¶</h3>
          <p>åœ¨main.jsä¸­å¼•å…¥å¹¶æ³¨å†Œæ’ä»¶ï¼š</p>

          <h2>3.3 ä½¿ç”¨ç¤ºä¾‹</h2>
          <p>åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨WebSocketæ’ä»¶ï¼š</p>

          <h3>3.3.1 å»ºç«‹è¿æ¥</h3>
          <p>é€šè¿‡è°ƒç”¨æ’ä»¶æ–¹æ³•å»ºç«‹WebSocketè¿æ¥ï¼š</p>

          <h3>3.3.2 å‘é€æ¶ˆæ¯</h3>
          <p>ä½¿ç”¨sendæ–¹æ³•å‘é€æ¶ˆæ¯åˆ°æœåŠ¡å™¨ï¼š</p>

          <h3>3.3.3 æ¥æ”¶æ¶ˆæ¯</h3>
          <p>é€šè¿‡äº‹ä»¶ç›‘å¬å™¨æ¥æ”¶æœåŠ¡å™¨å‘é€çš„æ¶ˆæ¯ï¼š</p>

          <h1>å››ã€é«˜çº§åŠŸèƒ½</h1>
          <p>é™¤äº†åŸºæœ¬åŠŸèƒ½å¤–ï¼Œæ’ä»¶è¿˜æä¾›äº†ä»¥ä¸‹é«˜çº§ç‰¹æ€§ï¼š</p>

          <h2>4.1 è¿æ¥æ± ç®¡ç†</h2>
          <p>æ”¯æŒå¤šä¸ªWebSocketè¿æ¥çš„ç®¡ç†ï¼Œæ¯ä¸ªè¿æ¥éƒ½æœ‰ç‹¬ç«‹çš„é…ç½®å’ŒçŠ¶æ€ã€‚</p>

          <h2>4.2 æ¶ˆæ¯å‹ç¼©</h2>
          <p>æ”¯æŒæ¶ˆæ¯å‹ç¼©ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“çš„æ•°æ®é‡ï¼Œæé«˜ä¼ è¾“æ•ˆç‡ã€‚</p>

          <h2>4.3 å®‰å…¨è®¤è¯</h2>
          <p>æ”¯æŒå¤šç§è®¤è¯æ–¹å¼ï¼ŒåŒ…æ‹¬Tokenè®¤è¯ã€è¯ä¹¦è®¤è¯ç­‰ã€‚</p>

          <h1>äº”ã€æœ€ä½³å®è·µ</h1>
          <p>åœ¨ä½¿ç”¨WebSocketæ’ä»¶æ—¶ï¼Œå»ºè®®éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µï¼š</p>

          <h2>5.1 é”™è¯¯å¤„ç†</h2>
          <p>å§‹ç»ˆå®ç°å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼ŒåŒ…æ‹¬ç½‘ç»œé”™è¯¯ã€è®¤è¯å¤±è´¥ç­‰æƒ…å†µçš„å¤„ç†ã€‚</p>

          <h2>5.2 æ€§èƒ½ä¼˜åŒ–</h2>
          <p>åˆç†è®¾ç½®å¿ƒè·³é—´éš”ã€é‡è¿æ¬¡æ•°ç­‰å‚æ•°ï¼Œå¹³è¡¡æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p>

          <h2>5.3 ç›‘æ§å’Œæ—¥å¿—</h2>
          <p>å®ç°è¿æ¥çŠ¶æ€ç›‘æ§å’Œè¯¦ç»†çš„æ—¥å¿—è®°å½•ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥å’Œæ€§èƒ½åˆ†æã€‚</p>
        </div>
      </div>

      <!-- å³ä¾§ç›®å½•åŒºåŸŸ -->
      <div class="sidebar">
        <div class="toc-container">
          <div class="toc-card">
            <div class="toc-header">
              <div class="toc-title">
                <div class="toc-title-main">
                  <span class="toc-icon">ğŸ“‘</span>
                  <span>æ–‡ç« ç›®å½•</span>
                </div>
                <!-- åˆ†ç±»å¾½ç«  -->
                <div class="category-badge">
                  <span class="category-tag">æŠ€æœ¯æ–‡æ¡£</span>
                </div>
              </div>
              <div class="toc-actions">
                <a href="#" class="btn">ğŸ“Š</a>
                <a href="#" class="btn">âš™ï¸</a>
                <a href="#" class="btn">ğŸ“‹</a>
              </div>
            </div>

            <div class="toc-content">
              <!-- é˜…è¯»è¿›åº¦æŒ‡ç¤ºå™¨ -->
              <div class="reading-progress-indicator">
                <div class="progress-info">
                  <span class="progress-icon">ğŸ“–</span>
                  <span class="progress-label">é˜…è¯»è¿›åº¦</span>
                </div>
                <div class="progress-bar-mini">
                  <div class="progress-fill"></div>
                </div>
                <span class="progress-text-mini">65%</span>
              </div>

              <!-- ç›®å½•å†…å®¹ -->
              <div class="markdown-toc-content">
                <div class="table-of-contents">
                  <ul>
                    <li>
                      <a href="#intro" class="toc-link">ä¸€ã€ç®€ä»‹</a>
                      <ul>
                        <li><a href="#background" class="toc-link">1.1 èƒŒæ™¯ä»‹ç»</a></li>
                        <li><a href="#tech-choice" class="toc-link">1.2 æŠ€æœ¯é€‰å‹</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#core-features" class="toc-link">äºŒã€æ ¸å¿ƒåŠŸèƒ½</a>
                      <ul>
                        <li><a href="#auto-reconnect" class="toc-link">2.1 è‡ªåŠ¨é‡è¿æœºåˆ¶</a></li>
                        <li><a href="#heartbeat" class="toc-link">2.2 å¿ƒè·³æ£€æµ‹</a></li>
                        <li><a href="#message-queue" class="toc-link">2.3 æ¶ˆæ¯é˜Ÿåˆ—</a></li>
                        <li><a href="#event-system" class="toc-link">2.4 äº‹ä»¶ç³»ç»Ÿ</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#quick-start" class="toc-link">ä¸‰ã€å¿«é€Ÿå…¥é—¨</a>
                      <ul>
                        <li>
                          <a href="#code-structure" class="toc-link">3.1 ä»£ç åç§°åŠå»ºè®®ç›®å½•</a>
                        </li>
                        <li>
                          <a href="#basic-config" class="toc-link">3.2 åŸºæœ¬é…ç½®</a>
                          <ul>
                            <li><a href="#install-deps" class="toc-link">3.2.1 å®‰è£…ä¾èµ–</a></li>
                            <li><a href="#import-plugin" class="toc-link">3.2.2 å¼•å…¥æ’ä»¶</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href="#usage-example" class="toc-link">3.3 ä½¿ç”¨ç¤ºä¾‹</a>
                          <ul>
                            <li>
                              <a href="#establish-connection" class="toc-link">3.3.1 å»ºç«‹è¿æ¥</a>
                            </li>
                            <li><a href="#send-message" class="toc-link">3.3.2 å‘é€æ¶ˆæ¯</a></li>
                            <li><a href="#receive-message" class="toc-link">3.3.3 æ¥æ”¶æ¶ˆæ¯</a></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="#advanced-features" class="toc-link">å››ã€é«˜çº§åŠŸèƒ½</a>
                      <ul>
                        <li><a href="#connection-pool" class="toc-link">4.1 è¿æ¥æ± ç®¡ç†</a></li>
                        <li><a href="#message-compression" class="toc-link">4.2 æ¶ˆæ¯å‹ç¼©</a></li>
                        <li><a href="#security-auth" class="toc-link">4.3 å®‰å…¨è®¤è¯</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#best-practices" class="toc-link">äº”ã€æœ€ä½³å®è·µ</a>
                      <ul>
                        <li><a href="#error-handling" class="toc-link">5.1 é”™è¯¯å¤„ç†</a></li>
                        <li>
                          <a href="#performance-optimization" class="toc-link">5.2 æ€§èƒ½ä¼˜åŒ–</a>
                        </li>
                        <li><a href="#monitoring-logging" class="toc-link">5.3 ç›‘æ§å’Œæ—¥å¿—</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>

              <!-- ç›®å½•åº•éƒ¨ä¿¡æ¯ -->
              <div class="toc-footer">
                <div class="toc-stats">
                  <span class="toc-count">
                    <span class="icon">ğŸ“Š</span>
                    25 ä¸ªç« èŠ‚
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // æ¨¡æ‹Ÿç›®å½•é¡¹ç‚¹å‡»é«˜äº®
      document.querySelectorAll('.toc-link').forEach((link) => {
        link.addEventListener('click', function (e) {
          e.preventDefault()

          // ç§»é™¤æ‰€æœ‰activeç±»
          document.querySelectorAll('.toc-link').forEach((l) => l.classList.remove('active'))

          // æ·»åŠ activeç±»åˆ°å½“å‰ç‚¹å‡»çš„é“¾æ¥
          this.classList.add('active')

          // æ¨¡æ‹Ÿæ»šåŠ¨åˆ°å¯¹åº”ä½ç½®
          const targetId = this.getAttribute('href').substring(1)
          const targetElement = document.getElementById(targetId)
          if (targetElement) {
            targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' })
          }
        })
      })

      // æ¨¡æ‹Ÿé˜…è¯»è¿›åº¦æ›´æ–°
      let progress = 65
      const progressFill = document.querySelector('.progress-fill')
      const progressText = document.querySelector('.progress-text-mini')

      setInterval(() => {
        progress = Math.min(100, progress + Math.random() * 2)
        progressFill.style.width = progress + '%'
        progressText.textContent = Math.round(progress) + '%'
      }, 3000)

      // æ¨¡æ‹Ÿæ»šåŠ¨æ—¶æ›´æ–°å½“å‰ç« èŠ‚
      let currentSection = 'ä¸€ã€ç®€ä»‹'
      const currentSectionElement = document.createElement('div')
      currentSectionElement.className = 'current-section'
      currentSectionElement.innerHTML = '<span>ğŸ“</span><span>' + currentSection + '</span>'
      currentSectionElement.style.cssText = `
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: white;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            margin-top: 8px;
            backdrop-filter: blur(10px);
        `

      document.querySelector('.toc-title').appendChild(currentSectionElement)

      // æ¨¡æ‹Ÿæ»šåŠ¨æ›´æ–°å½“å‰ç« èŠ‚
      const sections = ['ä¸€ã€ç®€ä»‹', 'äºŒã€æ ¸å¿ƒåŠŸèƒ½', 'ä¸‰ã€å¿«é€Ÿå…¥é—¨', 'å››ã€é«˜çº§åŠŸèƒ½', 'äº”ã€æœ€ä½³å®è·µ']
      let currentIndex = 0

      setInterval(() => {
        currentIndex = (currentIndex + 1) % sections.length
        currentSection = sections[currentIndex]
        currentSectionElement.querySelector('span:last-child').textContent = currentSection
      }, 5000)
    </script>
  </body>
</html>
