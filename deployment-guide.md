# 博客系统云服务器部署指南

## 概述
本指南将帮助您将博客系统（Vue.js前端 + Spring Boot后端 + MySQL数据库）部署到免费云服务器。

## 推荐的免费云平台

### 1. Railway (推荐)
- 免费额度：每月500小时
- 支持：Node.js, Java, MySQL
- 自动部署：GitHub集成
- 域名：自动分配子域名

### 2. Render
- 免费额度：每月750小时
- 支持：Node.js, Java, PostgreSQL
- 自动部署：GitHub集成

### 3. Vercel (仅前端)
- 免费额度：无限制
- 支持：Vue.js, React等前端框架
- 自动部署：GitHub集成

## 部署方案选择

### 方案一：Railway全栈部署（推荐）
- 前端：Vue.js应用
- 后端：Spring Boot应用
- 数据库：MySQL

### 方案二：分离部署
- 前端：Vercel部署
- 后端：Railway部署
- 数据库：Railway MySQL

## 部署步骤

### 第一步：准备代码

1. **创建生产环境配置文件**
2. **优化构建配置**
3. **准备数据库迁移脚本**

### 第二步：Railway部署

1. **注册Railway账号**
2. **连接GitHub仓库**
3. **配置环境变量**
4. **部署应用**

### 第三步：域名配置

1. **配置自定义域名**
2. **设置SSL证书**
3. **配置CORS**

## 详细部署步骤

### 1. 代码准备

#### 1.1 创建生产环境配置
- 修改前端API地址
- 配置后端数据库连接
- 设置环境变量

#### 1.2 优化构建
- 前端静态资源优化
- 后端JAR包优化
- 数据库连接池配置

### 2. Railway部署

#### 2.1 注册和设置
1. 访问 https://railway.app
2. 使用GitHub账号注册
3. 创建新项目

#### 2.2 部署后端
1. 连接GitHub仓库
2. 选择backend-spring目录
3. 配置环境变量
4. 设置启动命令

#### 2.3 部署数据库
1. 添加MySQL服务
2. 导入数据库结构
3. 配置连接信息

#### 2.4 部署前端
1. 构建前端应用
2. 配置静态文件服务
3. 设置域名

### 3. 环境变量配置

#### 后端环境变量
```
SPRING_DATASOURCE_URL=jdbc:mysql://${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}
SPRING_DATASOURCE_USERNAME=${MYSQL_USERNAME}
SPRING_DATASOURCE_PASSWORD=${MYSQL_PASSWORD}
SERVER_PORT=4567
```

#### 前端环境变量
```
VITE_API_BASE_URL=https://your-backend-domain.railway.app
```

## 部署后维护

### 1. 监控和日志
- 设置应用监控
- 配置错误日志
- 性能监控

### 2. 备份策略
- 数据库定期备份
- 代码版本管理
- 配置文件备份

### 3. 更新部署
- 自动化部署流程
- 蓝绿部署策略
- 回滚机制

## 常见问题解决

### 1. 数据库连接问题
- 检查连接字符串
- 验证网络连通性
- 确认权限设置

### 2. CORS跨域问题
- 配置允许的域名
- 设置请求头
- 预检请求处理

### 3. 静态资源问题
- 配置正确的路径
- 设置缓存策略
- 压缩优化

## 成本控制

### 免费额度使用
- 合理分配资源
- 监控使用情况
- 优化应用性能

### 升级策略
- 按需升级
- 成本效益分析
- 长期规划

## 安全考虑

### 1. 数据安全
- 数据库加密
- 敏感信息保护
- 访问控制

### 2. 应用安全
- HTTPS强制
- 输入验证
- SQL注入防护

### 3. 运维安全
- 密钥管理
- 访问日志
- 定期安全审计
