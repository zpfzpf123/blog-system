# 🚀 AI智能博客系统 - 自动Git上传脚本使用说明

## 📋 脚本概述

本项目提供了三个版本的自动Git上传脚本，用于自动检测文件变化并上传到GitHub仓库：

- **`auto-git-upload.ps1`** - PowerShell脚本（Windows推荐）
- **`auto-git-upload.sh`** - Bash脚本（Linux/Mac推荐）
- **`auto-git-upload.bat`** - 批处理脚本（Windows兼容）

## 🎯 主要功能

- ✅ 自动检测文件变化
- 📝 智能生成提交信息
- 🚀 自动推送到远程仓库
- 🎨 彩色输出和状态显示
- 🔒 安全检查（Git安装、仓库状态等）
- 📊 详细的执行过程反馈

## 📥 下载和安装

### 1. 下载脚本文件

将以下文件下载到您的项目根目录：

```
项目根目录/
├── auto-git-upload.ps1    # PowerShell脚本
├── auto-git-upload.sh     # Bash脚本
├── auto-git-upload.bat    # 批处理脚本
└── 自动上传脚本使用说明.md  # 本说明文档
```

### 2. 设置执行权限（Linux/Mac）

```bash
# 为Bash脚本添加执行权限
chmod +x auto-git-upload.sh
```

### 3. 配置Git（首次使用）

```bash
# 设置Git用户信息
git config --global user.name "您的用户名"
git config --global user.email "您的邮箱@example.com"

# 配置远程仓库（如果还没有）
git remote add origin https://github.com/用户名/仓库名.git
```

## 🚀 使用方法

### PowerShell脚本（Windows推荐）

#### 基本用法
```powershell
# 进入项目目录
cd 您的项目路径

# 执行脚本（自动检测变化并上传）
.\auto-git-upload.ps1

# 指定提交信息
.\auto-git-upload.ps1 -CommitMessage "更新README文档"

# 强制推送（谨慎使用）
.\auto-git-upload.ps1 -Force

# 显示帮助信息
.\auto-git-upload.ps1 -Help
```

#### 参数说明
- `-CommitMessage <消息>`: 指定自定义提交信息
- `-Force`: 强制推送（覆盖远程分支）
- `-Help`: 显示帮助信息

### Bash脚本（Linux/Mac推荐）

#### 基本用法
```bash
# 进入项目目录
cd 您的项目路径

# 执行脚本（自动检测变化并上传）
./auto-git-upload.sh

# 指定提交信息
./auto-git-upload.sh -m "更新README文档"

# 强制推送（谨慎使用）
./auto-git-upload.sh -f

# 显示帮助信息
./auto-git-upload.sh -h
```

#### 参数说明
- `-m, --message <消息>`: 指定自定义提交信息
- `-f, --force`: 强制推送（覆盖远程分支）
- `-h, --help`: 显示帮助信息

### 批处理脚本（Windows兼容）

#### 基本用法
```cmd
# 进入项目目录
cd 您的项目路径

# 执行脚本（自动检测变化并上传）
auto-git-upload.bat

# 指定提交信息
auto-git-upload.bat -m "更新README文档"

# 强制推送（谨慎使用）
auto-git-upload.bat --force

# 显示帮助信息
auto-git-upload.bat -h
```

#### 参数说明
- `-m, --message <消息>`: 指定自定义提交信息
- `-f, --force`: 强制推送（覆盖远程分支）
- `-h, --help`: 显示帮助信息

## 📝 使用示例

### 示例1：日常更新
```bash
# 修改了一些文件后，直接运行脚本
./auto-git-upload.sh

# 脚本会自动：
# 1. 检测所有文件变化
# 2. 生成提交信息（如：自动更新 - 2024-01-15 14:30:25）
# 3. 提交更改
# 4. 推送到远程仓库
```

### 示例2：指定提交信息
```bash
# 使用自定义提交信息
./auto-git-upload.sh -m "修复用户登录bug，优化性能"

# 或者
./auto-git-upload.sh --message "添加新的AI功能模块"
```

### 示例3：强制推送
```bash
# 当需要覆盖远程分支时（谨慎使用）
./auto-git-upload.sh -f

# 或者
./auto-git-upload.sh --force
```

## ⚠️ 注意事项

### 1. 安全提醒
- **强制推送**：使用 `-f` 或 `--force` 选项会覆盖远程分支，请谨慎使用
- **权限检查**：确保您有推送到目标仓库的权限
- **备份重要数据**：重要更改前建议先备份

### 2. 环境要求
- Git必须已安装并配置
- 必须已配置远程仓库（origin）
- 网络连接正常（用于推送到GitHub）

### 3. 常见问题
- **权限错误**：检查GitHub账户权限和SSH密钥配置
- **网络超时**：检查网络连接，可能需要配置代理
- **分支冲突**：如果远程有更新，先执行 `git pull`

## 🔧 高级配置

### 1. 配置Git代理（如果需要）
```bash
# 设置HTTP代理
git config --global http.proxy http://proxy.example.com:8080

# 设置HTTPS代理
git config --global https.proxy https://proxy.example.com:8080
```

### 2. 配置SSH密钥（推荐）
```bash
# 生成SSH密钥
ssh-keygen -t ed25519 -C "您的邮箱@example.com"

# 添加到SSH代理
ssh-add ~/.ssh/id_ed25519

# 将公钥添加到GitHub账户
cat ~/.ssh/id_ed25519.pub
```

### 3. 配置Git凭证存储
```bash
# 配置凭证助手（Windows）
git config --global credential.helper wincred

# 配置凭证助手（macOS）
git config --global credential.helper osxkeychain

# 配置凭证助手（Linux）
git config --global credential.helper store
```

## 📊 脚本执行流程

```
开始执行
    ↓
检查Git安装
    ↓
检查Git仓库状态
    ↓
检查远程仓库配置
    ↓
获取当前分支
    ↓
检测文件变化
    ↓
如果没有变化 → 结束
    ↓
如果有变化 → 显示变化列表
    ↓
添加文件到暂存区
    ↓
生成提交信息
    ↓
提交更改
    ↓
推送到远程仓库
    ↓
显示结果信息
    ↓
完成
```

## 🎨 输出示例

```
🚀 AI智能博客系统 - 自动Git上传脚本
===============================================
📍 当前分支: main

📝 检测到以下文件变化:
  📝 README.md
  ➕ auto-git-upload.ps1
  ➕ auto-git-upload.sh

📦 添加文件到暂存区...
✅ 文件已添加到暂存区

💬 提交信息: 自动更新 - 2024-01-15 14:30:25

📝 提交更改...
✅ 更改已提交

📋 最新提交: a1b2c3d 自动更新 - 2024-01-15 14:30:25

🚀 推送到远程仓库...
✅ 成功推送到远程仓库

🌐 远程仓库: https://github.com/用户名/仓库名
🌿 分支: main

🎉 自动上传完成！
===============================================
```

## 🤝 故障排除

### 常见错误及解决方案

#### 1. Git未安装
```
❌ 错误: Git未安装或不在PATH中
```
**解决方案**：下载并安装Git，确保添加到系统PATH

#### 2. 不是Git仓库
```
❌ 错误: 当前目录不是Git仓库
```
**解决方案**：在项目目录执行 `git init`

#### 3. 未配置远程仓库
```
❌ 错误: 未配置远程仓库
```
**解决方案**：执行 `git remote add origin <仓库URL>`

#### 4. 推送失败
```
❌ 推送失败
```
**解决方案**：
- 检查网络连接
- 执行 `git pull` 同步远程更新
- 检查GitHub权限

#### 5. 权限被拒绝
```
❌ 推送失败: Permission denied
```
**解决方案**：
- 检查GitHub账户权限
- 配置SSH密钥
- 检查仓库访问权限

## 📞 技术支持

如果您在使用过程中遇到问题，可以：

1. **查看帮助信息**：使用 `-h` 或 `--help` 参数
2. **检查Git配置**：确保Git正确安装和配置
3. **查看错误日志**：脚本会显示详细的错误信息
4. **手动执行Git命令**：按照脚本提示手动执行相应命令

## 🎯 最佳实践

1. **定期使用**：建议每次修改文件后都运行脚本
2. **检查提交信息**：使用 `-m` 参数提供有意义的提交信息
3. **避免强制推送**：除非确实需要覆盖远程分支
4. **保持同步**：定期执行 `git pull` 同步远程更新
5. **备份重要数据**：重要更改前先备份

---

**🎉 现在您可以享受自动化的Git上传体验了！**

如果脚本对您有帮助，请给项目一个⭐️！
